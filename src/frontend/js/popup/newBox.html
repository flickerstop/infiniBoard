<!----------------------------------------------------------
> CSS
<----------------------------------------------------------->
<style>
    #popup-box{
        height: 400px;
        width: 700px;
    }

    #popup-title-bar{
        width: 100%;
        height: 40px;
        line-height: 40px;
        text-align: center;
        font-size: 20px;
        margin-bottom: 20px;
    }

    .popup-input-title{
        font-size: 10px;
        margin-left: 20px;
    }

    .popup-input{
        margin-left: 20px;
        margin-right: 20px;
        height: 40px;
        font-size: 20px;
        width: calc(100% - 40px);
        padding: 0px 5px;
        box-sizing: border-box;

        margin-bottom: 10px;
    }

    .popup-nextButton{
        border: 2px solid var(--blue);
        color: var(--blue);
    }

    .popup-info{
        font-family: 'Roboto', sans-serif;
        margin-left: 20px;
        margin-right: 20px;
        font-size: 15px;
        width: calc(100% - 40px);
    }

    #popup-nameYourBox{
        width: 300px;
        height: 100%;
        margin-left: 400px;
    }

    #popup-leftPanel{
        width: 399px;
        height: 100%;
        border-right: 1px solid var(--sidebar);
        float: left;
    }

    #popup-picture{
        height: 200px;
        width: 200px;
        margin: 20px auto;
        background-size: 200px 200px;
        background-repeat: no-repeat;
        background-position: center center;
        background-image: url("./images/box.png");
    }

    
</style>

<!----------------------------------------------------------
> HTML
<----------------------------------------------------------->
<!-- #region -->
<div id="popup-leftPanel">
    <div id="popup-picture">

    </div>
    <div class="popup-info">
        An Inifinibox stores all your Infiniboards that are linked together. An Infiniboard cannot be linked to another Infiniboard that is stored inside a different Infinibox. The name you choose for the Infinibox should be based around the topic of all the Infiniboards inside.
    </div>
</div>
<div id="popup-nameYourBox">
    <div id="popup-title-bar">
        Create a new Infinibox
    </div>
    <div class="popup-input-title" style="margin-top: 120px">
        Infinibox Name:
    </div>
    <input class="popup-input" placeholder="Name of the InfiniBox" >

    <!-- <div class="popup-nextButton">Next -></div> -->
</div>

<!-- #endregion -->

<!----------------------------------------------------------
> JAVASCRIPT
<----------------------------------------------------------->

<script>


    function initPopup(callback){
        console.log(callback);
        d3.select("#popup").style("display",null);
    }

    /**
     * Submit the given information if it passes checks
     */
    function submit(){
        let boxName = util.getValueId("popup-boardBoxName");
        let boardName = util.getValueId("popup-boardName");
        let bgcolor = util.getValueId("popup-colorPicker");
        // Make sure they wrote a name
        if(boxName == ""){
            d3.select("#popup-boardBoxName").style("background-color","#c0392b");
            d3.select("#popup-error").html("Please Write a Name for this Infiniboard Box!");
            return;
        }
        if(boardName == ""){
            d3.select("#popup-boardName").style("background-color","#c0392b");
            d3.select("#popup-error").html("Please Write a Name for the first Infiniboard!");
            return;
        }
        // Check if the name is already used
        if(boxManager.checkBoxNameUsed(boxName)){ 
            d3.select("#popup-boardBoxName").style("background-color","#c0392b");
            d3.select("#popup-error").html("This name is already in use!");
            return;
        }

        // Clear the key event for the enter key
        keyManager.clearEvent(13,0);
        // Turn off the popup
        d3.select("#popup").style("display","none");
        // Clear the popup
        d3.select("#popup-box").html(null);
        callback(boxName,boardName,bgcolor);
    }

    /**
     * Forget all the info given and close the popup
     */
    function closePopup(){
        d3.select("#popup-box").html(null);
        d3.select("#popup").style("display","none");
        keyManager.clearEvent(13,0);
    }
</script>